<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>The Teracube 2e | Gagan Malvi</title><meta name=keywords content><meta name=description content="The Teracube 2e is a budget smartphone with a 4 year warranty from Teracube, a startup focused at eco-friendly smartphones having a really long life. Specs wise, it has a Mediatek Helio G25 (MT6762), with 4 GB of RAM, and 64GB of onboard storage. It comes with a stock Android experience right from the factory.
The company promises 3 years of Android updates.
I received my Teracube 2e in April 2021, through a developer program they had held, they had taken the pains to get it shipped to India as soon as possible."><meta name=author content><link rel=canonical href=http://malvi.me/posts/the-teracube-2e/><link crossorigin=anonymous href=/assets/css/stylesheet.d7fb4cbf980fe688a21621b06a795933c4e6bb2d4070ec940667af1715d84af2.css integrity="sha256-1/tMv5gP5oiiFiGwanlZM8Tmuy1AcOyUBmevFxXYSvI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://malvi.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://malvi.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://malvi.me/favicon-32x32.png><link rel=apple-touch-icon href=http://malvi.me/apple-touch-icon.png><link rel=mask-icon href=http://malvi.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="The Teracube 2e"><meta property="og:description" content="The Teracube 2e is a budget smartphone with a 4 year warranty from Teracube, a startup focused at eco-friendly smartphones having a really long life. Specs wise, it has a Mediatek Helio G25 (MT6762), with 4 GB of RAM, and 64GB of onboard storage. It comes with a stock Android experience right from the factory.
The company promises 3 years of Android updates.
I received my Teracube 2e in April 2021, through a developer program they had held, they had taken the pains to get it shipped to India as soon as possible."><meta property="og:type" content="article"><meta property="og:url" content="http://malvi.me/posts/the-teracube-2e/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-07T15:07:20+05:30"><meta property="article:modified_time" content="2021-07-07T15:07:20+05:30"><meta name=twitter:card content="summary"><meta name=twitter:title content="The Teracube 2e"><meta name=twitter:description content="The Teracube 2e is a budget smartphone with a 4 year warranty from Teracube, a startup focused at eco-friendly smartphones having a really long life. Specs wise, it has a Mediatek Helio G25 (MT6762), with 4 GB of RAM, and 64GB of onboard storage. It comes with a stock Android experience right from the factory.
The company promises 3 years of Android updates.
I received my Teracube 2e in April 2021, through a developer program they had held, they had taken the pains to get it shipped to India as soon as possible."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://malvi.me/posts/"},{"@type":"ListItem","position":2,"name":"The Teracube 2e","item":"http://malvi.me/posts/the-teracube-2e/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"The Teracube 2e","name":"The Teracube 2e","description":"The Teracube 2e is a budget smartphone with a 4 year warranty from Teracube, a startup focused at eco-friendly smartphones having a really long life. Specs wise, it has a Mediatek Helio G25 (MT6762), with 4 GB of RAM, and 64GB of onboard storage. It comes with a stock Android experience right from the factory.\nThe company promises 3 years of Android updates.\nI received my Teracube 2e in April 2021, through a developer program they had held, they had taken the pains to get it shipped to India as soon as possible.","keywords":[],"articleBody":"The Teracube 2e is a budget smartphone with a 4 year warranty from Teracube, a startup focused at eco-friendly smartphones having a really long life. Specs wise, it has a Mediatek Helio G25 (MT6762), with 4 GB of RAM, and 64GB of onboard storage. It comes with a stock Android experience right from the factory.\nThe company promises 3 years of Android updates.\nI received my Teracube 2e in April 2021, through a developer program they had held, they had taken the pains to get it shipped to India as soon as possible. I would like to thank Sharad Mittal, the founder of Teracube, and my mentor and my friend Kshitij Gupta (AgentFabulous) for giving me such an amazing opportunity.\nThe device in hand, even with a plastic back, felt premium for a Redmi user like me, and it actually felt like a sturdy phone, unlike some devices in the 2021 era.\nThe case bundled with it provides an extra layer of protection, and the best part is, it’s made out of fully recycled materials and feels really good in hand.\nSoon after receiving it, I unlocked the device, and started working on getting the highly-popular custom Android-based aftermarket firmware or custom ROM, named LineageOS. It is the successor of the highly-popular defunct ROM, CyanogenMod.\nTeracube was also kind enough to release the source for TWRP, which is now officially supported from the company for the device, hence opening new avenues for the modding and development of the device.\nI am also very thankful to Kshitij Gupta for holding my hand throughout this development journey, teaching me and guiding me without any hesitation so I could be capable of bringing aftermarket firmware to the device.\nI started off by making a dump of the stock firmware, using ShivamKumarJha’s scripts. Using these scripts again, I generated a dummy vendor and device configuration for the Teracube 2e. More about the configurations in such trees can be read here.\nAfter that, I started adding necessary configuration arguments needed to actually compile the operating system for the device, i.e. the changes required to the fstab, and different packages for audio, display, media, bluetooth, NFC, and so on.\nI had referred to present MediaTek device repositories of the following devices:\nRedmi Note 8 Pro - maintained by Kshitij Gupta Redmi Note 9T - maintained by Vaisakh Murali Realme C2 - maintained by Sakthivel Nadar Gigaset GS290 - maintained by Erfan Abdi Now, since the kernel source for the Teracube 2e was not available at that moment, so I proceeded to compile using a prebuilt kernel binary extracted from the stock firmware.\nFor compiling, we’d also need the kernel headers for the prebuilt kernel, for that dependency I took a leaked MediaTek 4.9 kernel base and took the headers from there.\nAfter the compile process, I had my first brick. Why? I messed up the initialization process.\nMediaTek in their device board support packages, tend to use properties instead of hardcoded paths in their init.*.rc files, and since I hadn’t defined the property, services just failed to initialize, throwing the device into fastboot. This was fixed with this commit.\nSoon after fixing this, I was missing a couple blobs and configuration XML files that caused the device not to boot, but to stay on bootanimation, what we term as a bootloop. One of the errors that I had faced, was\n04-08 12:06:06.683 1020 1020 I FastMixerState: sMaxFastTracks = 8 04-08 12:06:06.685 1020 1020 V MediaUtils: physMem: 4030423040 04-08 12:06:06.685 1020 1020 V MediaUtils: requested limit: 536870912 04-08 12:06:06.685 1020 1020 I libc : malloc_limit: Allocation limit enabled, max size 536870912 bytes 04-08 12:06:06.686 1020 1020 I audioserver: ServiceManager: 0x7d66bbadc0 04-08 12:06:06.688 1020 1020 I audioserver: type=1400 audit(0.0:4675): avc: denied { call } for scontext=u:r:audioserver:s0 tcontext=u:r:init:s0 tclass=binder permissive=1[ 04-08 12:06:06.696 1020 1020 I AudioFlinger: Using default 3000 mSec as standby time. 04-08 12:06:06.697 1020 1020 E APM::Serializer: deserialize: Could not parse /odm/etc/audio_policy_configuration.xml document. 04-08 12:06:06.697 1020 1020 E APM::Serializer: deserialize: Could not parse /vendor/etc/audio/audio_policy_configuration.xml document. 04-08 12:06:06.704 1020 1020 E APM::Serializer: deserialize: libxml failed to resolve XIncludes on /vendor/etc/audio_policy_configuration.xml document. 04-08 12:06:06.708 1020 1020 E APM::AudioPolicyEngine/Config: parse: Could not parse document /vendor/etc/audio_policy_engine_configuration.xml 04-08 12:06:06.708 1020 1020 W APM::AudioPolicyEngine/Base: loadAudioPolicyEngineConfig: No configuration found, using default matching phone experience. 04-08 12:06:06.708 1020 1020 E APM::AudioPolicyEngine/Config: parseLegacyVolumeFile: Could not parse document /odm/etc/audio_policy_configuration.xml 04-08 12:06:06.714 1020 1020 E APM::AudioPolicyEngine/Config: parseLegacyVolumeFile: libxml failed to resolve XIncludes on document /vendor/etc/audio_policy_configuration.xml 04-08 12:06:06.714 1020 1020 E APM::AudioPolicyEngine/Config: parseLegacyVolumeFile: Could not parse document /system/etc/audio_policy_configuration.xml 04-08 12:06:06.714 1020 1020 E APM::AudioPolicyEngine/Base: skipped 1 elements aurisys configuration XMLs, and because of a missing default_volume_tables XML that I needed to copy from frameworks/native, caused it to bootloop. Soon after fixing the vtservice error and the missing XML issues, the device booted, and fixing the remaining bugs on the device was a cakewalk, since most of the issues either were easy fixes, and the rest were already documented.\nSoon after LineageOS, I also booted /e/OS, a privacy focused Android distribution, that also comes preinstalled on many Android devices.\nThere sure are a few bugs left, namely:\nWiFi calling Bluetooth Audio I hope to fix them before I move forward to bring Android 11 to the Teracube 2e :)\nThe device sources for the Teracube 2e shall be opensourced soon on to the Teracube 2e device organization.\nI would like to thank the following people for bringing this to life:\nSharad Mittal, founder of Teracube Kshitij Gupta, my mentor, and a great friend Sakthivel Nadar Elias Vaisakh Murali Zinadin Zidan Sahil Sonar And whomsoever I may have missed Thank you for reading my story :)\n","wordCount":"935","inLanguage":"en","datePublished":"2021-07-07T15:07:20+05:30","dateModified":"2021-07-07T15:07:20+05:30","mainEntityOfPage":{"@type":"WebPage","@id":"http://malvi.me/posts/the-teracube-2e/"},"publisher":{"@type":"Organization","name":"Gagan Malvi","logo":{"@type":"ImageObject","url":"http://malvi.me/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://malvi.me/ accesskey=h title="Gagan Malvi (Alt + H)">Gagan Malvi</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>The Teracube 2e</h1><div class=post-meta><span title='2021-07-07 15:07:20 +0530 +0530'>July 7, 2021</span></div></header><div class=post-content><p>The Teracube 2e is a budget smartphone with a 4 year warranty from <a href=https://myteracube.com>Teracube</a>, a startup focused at eco-friendly smartphones having a really long life.
<img loading=lazy src=https://raw.githubusercontent.com/gaganmalvi/graphics/main/photo_2021-04-07_15-52-20.jpg alt=T2e></p><p>Specs wise, it has a Mediatek Helio G25 (MT6762), with 4 GB of RAM, and 64GB of onboard storage. It comes with a stock Android experience right from the factory.</p><p>The company promises 3 years of Android updates.</p><p>I received my Teracube 2e in April 2021, through a developer program they had held, they had taken the pains to get it shipped to India as soon as possible. I would like to thank Sharad Mittal, the founder of Teracube, and my mentor and my friend Kshitij Gupta (AgentFabulous) for giving me such an amazing opportunity.</p><p>The device in hand, even with a plastic back, felt premium for a Redmi user like me, and it actually felt like a sturdy phone, unlike some devices in the 2021 era.</p><p>The case bundled with it provides an extra layer of protection, and the best part is, it&rsquo;s made out of fully recycled materials and feels really good in hand.</p><p><img loading=lazy src=https://raw.githubusercontent.com/gaganmalvi/graphics/main/photo_2021-04-09_10-56-27.jpg alt=T2e></p><p>Soon after receiving it, I unlocked the device, and started working on getting the highly-popular custom Android-based aftermarket firmware or custom ROM, named <a href=https://lineageos.org>LineageOS</a>. It is the successor of the highly-popular defunct ROM, CyanogenMod.</p><p>Teracube was also kind enough to release the source for TWRP, which is now officially supported from the company for the device, hence opening new avenues for the modding and development of the device.</p><p>I am also very thankful to Kshitij Gupta for holding my hand throughout this development journey, teaching me and guiding me without any hesitation so I could be capable of bringing aftermarket firmware to the device.</p><p>I started off by making a dump of the stock firmware, using <a href=https://github.com/ShivamKumarJha/android_tools>ShivamKumarJha&rsquo;s scripts.</a> Using these scripts again, I generated a dummy vendor and device configuration for the Teracube 2e. More about the configurations in such trees can be read <a href=https://source.android.com/setup/develop/new-device>here.</a></p><p>After that, I started adding necessary configuration arguments needed to actually compile the operating system for the device, i.e. the changes required to the <a href=https://en.wikipedia.org/wiki/Fstab>fstab</a>, and different packages for audio, display, media, bluetooth, NFC, and so on.</p><p>I had referred to present MediaTek device repositories of the following devices:</p><ul><li>Redmi Note 8 Pro - maintained by Kshitij Gupta</li><li>Redmi Note 9T - maintained by Vaisakh Murali</li><li>Realme C2 - maintained by Sakthivel Nadar</li><li>Gigaset GS290 - maintained by Erfan Abdi</li></ul><p>Now, since the kernel source for the Teracube 2e was not available at that moment, so I proceeded to compile using a prebuilt kernel binary extracted from the stock firmware.</p><p>For compiling, we&rsquo;d also need the kernel headers for the prebuilt kernel, for that dependency I took a leaked MediaTek 4.9 kernel base and took the headers from there.</p><p>After the compile process, I had my first brick.
Why?
I messed up the initialization process.</p><p>MediaTek in their device board support packages, tend to use properties instead of hardcoded paths in their init.*.rc files, and since I hadn&rsquo;t defined the property, services just failed to initialize, throwing the device into fastboot. This was fixed with <a href=https://github.com/mvaisakh/android_device_xiaomi_cannon/commit/b1ace13d3e0d24816c372b72c42b75e650c1c39c>this commit.</a></p><p>Soon after fixing this, I was missing a couple blobs and configuration XML files that caused the device not to boot, but to stay on bootanimation, what we term as a bootloop. One of the errors that I had faced, was</p><pre tabindex=0><code>04-08 12:06:06.683  1020  1020 I FastMixerState: sMaxFastTracks = 8
04-08 12:06:06.685  1020  1020 V MediaUtils: physMem: 4030423040
04-08 12:06:06.685  1020  1020 V MediaUtils: requested limit: 536870912
04-08 12:06:06.685  1020  1020 I libc    : malloc_limit: Allocation limit enabled, max size 536870912 bytes
04-08 12:06:06.686  1020  1020 I audioserver: ServiceManager: 0x7d66bbadc0
04-08 12:06:06.688  1020  1020 I audioserver: type=1400 audit(0.0:4675): avc: denied { call } for scontext=u:r:audioserver:s0 tcontext=u:r:init:s0 tclass=binder permissive=1[
04-08 12:06:06.696  1020  1020 I AudioFlinger: Using default 3000 mSec as standby time.
04-08 12:06:06.697  1020  1020 E APM::Serializer: deserialize: Could not parse /odm/etc/audio_policy_configuration.xml document.
04-08 12:06:06.697  1020  1020 E APM::Serializer: deserialize: Could not parse /vendor/etc/audio/audio_policy_configuration.xml document.
04-08 12:06:06.704  1020  1020 E APM::Serializer: deserialize: libxml failed to resolve XIncludes on /vendor/etc/audio_policy_configuration.xml document.
04-08 12:06:06.708  1020  1020 E APM::AudioPolicyEngine/Config: parse: Could not parse document /vendor/etc/audio_policy_engine_configuration.xml
04-08 12:06:06.708  1020  1020 W APM::AudioPolicyEngine/Base: loadAudioPolicyEngineConfig: No configuration found, using default matching phone experience.
04-08 12:06:06.708  1020  1020 E APM::AudioPolicyEngine/Config: parseLegacyVolumeFile: Could not parse document /odm/etc/audio_policy_configuration.xml
04-08 12:06:06.714  1020  1020 E APM::AudioPolicyEngine/Config: parseLegacyVolumeFile: libxml failed to resolve XIncludes on document /vendor/etc/audio_policy_configuration.xml
04-08 12:06:06.714  1020  1020 E APM::AudioPolicyEngine/Config: parseLegacyVolumeFile: Could not parse document /system/etc/audio_policy_configuration.xml
04-08 12:06:06.714  1020  1020 E APM::AudioPolicyEngine/Base: skipped 1 elements
</code></pre><p><code>aurisys</code> configuration XMLs, and because of a missing <code>default_volume_tables</code> XML that I needed to copy from <code>frameworks/native</code>, caused it to bootloop. Soon after fixing the <code>vtservice</code> error and the missing XML issues, the device booted, and fixing the remaining bugs on the device was a cakewalk, since most of the issues either were easy fixes, and the rest were already documented.</p><p><img loading=lazy src=https://camo.githubusercontent.com/b8e2ed720715e011a68cfe244217da44da6adeaa303ec75e11a30ef9f475cbad/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f4579663948453456494149673845783f666f726d61743d6a7067266e616d653d6d656469756d alt=Lineage></p><p>Soon after LineageOS, I also booted <a href=https://e.foundation>/e/OS</a>, a privacy focused Android distribution, that also comes preinstalled on many Android devices.</p><p>There sure are a few bugs left, namely:</p><ul><li>WiFi calling</li><li>Bluetooth Audio</li></ul><p>I hope to fix them before I move forward to bring Android 11 to the Teracube 2e :)</p><p>The device sources for the Teracube 2e shall be opensourced soon <a href=https://github.com/2e-dev>on to the Teracube 2e device organization</a>.</p><p>I would like to thank the following people for bringing this to life:</p><ul><li>Sharad Mittal, founder of Teracube</li><li>Kshitij Gupta, my mentor, and a great friend</li><li>Sakthivel Nadar</li><li>Elias</li><li>Vaisakh Murali</li><li>Zinadin Zidan</li><li>Sahil Sonar</li><li>And whomsoever I may have missed</li></ul><p>Thank you for reading my story :)</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=http://malvi.me/>Gagan Malvi</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>